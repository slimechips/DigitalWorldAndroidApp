#:kivy 1.10.1
#File name: main.py

<LoginPage>:
    name: "loginpage"
    Image:
        pos: self.pos
        size_hint: 1, 1
        source: 'SUTDcanteenPotrait.png'
        allow_stretch: True
        keep_ratio: False
        color: 1, 1, 1, 0.5

    BoxLayout:
        orientation: "vertical"
        size_hint: 1, 1
        spacing: 20
        Label:
            id: easy_eat_txt
            text: root._appname
            font_size: root._titlefontsize
            color: 0.5, 0.5, 0.5, 1
            spacing: 20
        Label:
            id: username_txt
            text: "Username"
            size_hint: 1, None
            font_size: root._labelfontsize
            size: self.texture_size
            halign: "center"
        TextInput:
            id: login
            size_hint: 0.8, None
            pos_hint: {"x": 0.1}
            font_size: root._labelfontsize
            height: self.minimum_height
            multiline: False
            focus: True
        Label:
            id: password_txt
            text: "Password"
            size_hint: 1, None
            font_size: root._labelfontsize
            size: self.texture_size
            color: (1, 1, 1, 1)
            halign: "center"
        TextInput:
            id: passw
            size_hint: 0.8, None
            height: self.minimum_height
            font_size: root._labelfontsize
            pos_hint: {"x": 0.1}
            multiline: False
            focus: True
            password: True
        SmoothButton:
            id: login_button
            size_hint: 0.8, None
            size_y: self.line_height
            pos_hint: {"x": 0.1}
            text: "Login"
            font_size: root._buttonfontsize
            on_release: root.verify_credentials()
            background_normal: ""
            btn_color: 0.9, 0.9, 0.3, 1
        FilledStrokeButton:
            id: signup_button
            size_hint: 0.8, None
            size_y: self.line_height
            pos_hint: {"x": 0.1}
            text: "Sign Up"
            font_size: root._buttonfontsize
            on_release: root.signup()
            # background_color: 0.2, 0.2, 0.8, 1.0
            background_normal: ""
            btn_color: 0.7, 0.7, 0.7, 1
            back_color: 0.2, 0.2, 1, 1     
        Label:
            id: space_login
            text: "."
            size_hint: 1, 1
            color: 0, 0, 0, 0
            size: self.texture_size
            

<SignUpPage>:
    name: "signup"
    Image:
        pos: self.pos
        size_hint: 1, 1
        source: 'SUTDcanteenPotrait.png'
        allow_stretch: True
        keep_ratio: False
        color: 1, 1, 1, 0.5
    BoxLayout:
        orientation: "vertical"
        size_hint: 1, 1
        spacing: 30
        height: self.minimum_height
        Label:
            id: signup_txt_title
            text: "Sign up"
            font_size: root._titlefontsize
            color: 0.5, 0.5, 0.5, 1
            size_hint: 1, None
            size: self.texture_size
            spacing: 20
        TextInput:
            id: email_signup_input
            # text_size: self.size
            hint_text: "Email Address"
            size_hint: 0.8, None
            pos_hint: {"x": 0.1}
            height: self.minimum_height
            font_size: root._labelfontsize
            multiline: False
            focus: True
        TextInput:
            id: username_signup_input
            text_size: self.size
            hint_text: "Username"
            size_hint: 0.8, None
            pos_hint: {"x": 0.1}
            height: self.minimum_height
            font_size: root._labelfontsize
            multiline: False
            focus: True
        TextInput:
            id: passw_signup_input
            size_hint: 0.8, None
            hint_text: "Password"
            pos_hint: {"x": 0.1}
            height: self.minimum_height
            font_size: root._labelfontsize
            multiline: False
            focus: True
            password: True
        TextInput:
            id: passw_confirm_signup_input
            size_hint: 0.8, None
            hint_text: "Retype Password"
            pos_hint: {"x": 0.1}
            height: self.minimum_height
            font_size: root._labelfontsize
            multiline: False
            focus: True
            password: True
        Button:
            size_hint: 0.8, None
            size_y: passw_confirm_signup_input.line_height
            pos_hint: {"x": 0.1}
            text: "Sign Up"
            font_size: root._buttonfontsize
            on_release: root.firebase_signup()
            background_color: 0.2, 0.2, 0.8, 1.0
            background_normal: ""
        Label:
            id: info_text
            text: ""
            font_size: root._labelfontsize
            color: 1.0, 0.2, 0.2, 1
            size_hint: 1, None
            size: self.texture_size
        Label:
            id: space_signup
            text: "."
            size_hint: 1, 1
            color: 0, 0, 0, 0
            size: self.texture_size

<SmoothButton@Button>:
    background_color: 0, 0, 0, 0
    background_normal: ''
    border_radius: [20]
    btn_color: 0, 0, 0, 1
    canvas.before:
        Color:
            rgba: self.btn_color
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: self.border_radius

<StrokeButton@Button>:
    background_color: 0, 0, 0, 0
    background_normal: ''
    border_radius: 20
    back_color: 1, 0, 1, 1
    color: self.back_color
    bold: True
    canvas.before:
        Color:
            rgba: self.back_color
        Line:
            rounded_rectangle: (self.pos[0], self.pos[1], self.size[0], self.size[1], self.border_radius)
            width: 1.2

<FilledStrokeButton@Button>:
    btn_color: (0, 0, 0, 1)
    back_color: 1, 0, 1, 1
    background_color: 0, 0, 0, 0
    color: 0, 0, 0, 0
    # on_press: self.back_color = 0, 0 ,0 ,1
    SmoothButton:
        btn_color: self.parent.btn_color[:]
        size: self.parent.size
        pos: self.parent.pos
        on_release: self.parent.on_release
        StrokeButton:
            size: self.parent.size
            pos: self.parent.pos
            text: self.parent.parent.text
            font_size: self.parent.parent.font_size
            back_color: self.parent.parent.back_color
            on_release: self.parent.parent.on_release