#:kivy 1.10.1
#:import appdimens appdimens
#:import appcolours appcolours

# My_Orders object inheriting from Screen
<My_Orders>:
    name: "my_orders"

    # Background color of 0.8, 0.8, 0.8
    # Takes up whole screen
    canvas.before:
        Color:
            rgb: 0.8, 0.8, 0.8
        Rectangle:
            size: self.size
            pos: self.pos

    # BoxLayout to contain two nav bars and screen content
    BoxLayout:
        orientation: "vertical"
        id: orders_box
        TopNavigationBar:
            id: top_bar
            text: "My Orders"

        # ScrollView to allow user to scroll through content
        ScrollView:
            size: self.size
            do_scroll_y: True

            # GridLayout to display information related to orders in a 1 column grid
            GridLayout:
                id: orders_grd
                cols: 1
                column_default_force: True,
                column_default_width: Window.width
                height: self.minimum_height
                spacing: 10
                padding: 20
                size_hint_y: None
        BottomNavigationBar:
            id: btm_bar

# FoodPicture object inheriting from AsyncImage
<FoodPicture@AsyncImage>:
    allow_stretch: True
    keep_ratio: True
    on_error: self.img_error
    size_hint: 0.5, 1
    height: appdimens.stall_screen_height

# OrderLabel object inheriting from Label
<OrderLabel@Label>:
    id: order_label
    text: "Placeholder"
    size_hint: 0.5, 1
    font_size: appdimens.label_font_size
    text_size: self.size
    color: appcolours.BLACK
    multiline: True
    markup: True
    halign: "left"

# OrderRow object inheriting from BoxLayout
<OrderRow@BoxLayout>:
    orientation: "horizontal"
    size_hint_y: None
    height: self.minimum_height

# BarcodeImage object inheriting from Image
<BarcodeImage@Image>:
    allow_stretch: True
    keep_ratio: True
    size_hint: 1, None
    height: Window.width / self.image_ratio
    halign: "middle"